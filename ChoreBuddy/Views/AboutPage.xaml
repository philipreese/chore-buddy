<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             xmlns:toolkit="http://schemas.microsoft.com/dotnet/2022/maui/toolkit"
             x:Class="ChoreBuddy.Views.AboutPage"
             xmlns:views="clr-namespace:ChoreBuddy.Views"
             xmlns:vm="clr-namespace:ChoreBuddy.ViewModels"
             Title="About"
             x:DataType="vm:AboutViewModel"
             Style="{StaticResource PageRoot}">

    <ContentPage.Behaviors>
        <toolkit:StatusBarBehavior
            StatusBarColor="{AppThemeBinding Light={StaticResource SurfaceLight}, Dark={StaticResource SurfaceDark}}"
            StatusBarStyle="{AppThemeBinding Light=DarkContent, Dark=LightContent}" />
    </ContentPage.Behaviors>

    <ScrollView>
        <VerticalStackLayout Spacing="0">

            <!-- Hero Header -->
            <Grid HeightRequest="280">
                <BoxView Background="{StaticResource AboutGradient}" />

                <VerticalStackLayout VerticalOptions="Center"
                                     HorizontalOptions="Center"
                                     Spacing="12">

                    <Border StrokeShape="RoundRectangle 28"
                            HeightRequest="100"
                            WidthRequest="100"
                            Padding="12"
                            Shadow="6 6 24 Black 0.25"
                            BackgroundColor="{AppThemeBinding Light={StaticResource PrimaryLightBright},
                                                              Dark={StaticResource PrimaryDark}}">

                        <Image Source="splash.png"
                               Aspect="AspectFill"
                               HeightRequest="76"
                               WidthRequest="76" />
                    </Border>

                    <Label Text="{Binding AppDetails.Name}"
                           Style="{StaticResource HeaderText}"
                           TextColor="{AppThemeBinding Light={StaticResource OnPrimaryLight},
                                                       Dark={StaticResource OnPrimaryDark}}"
                           FontSize="32"
                           HorizontalOptions="Center" />

                    <Label Text="Your household superhero"
                           Style="{StaticResource BodyText}"
                           TextTransform="Uppercase"
                           TextColor="{AppThemeBinding Light={StaticResource OnPrimaryLight},
                                                       Dark={StaticResource OnPrimaryDark}}"
                           HorizontalOptions="Center" />
                </VerticalStackLayout>
            </Grid>

            <!-- Content -->
            <VerticalStackLayout Padding="20"
                                 Spacing="24"
                                 Margin="0,-50,0,0">

                <!-- Application Info Card -->
                <Border Style="{StaticResource Card}"
                        Padding="12">
                    <VerticalStackLayout Spacing="16">

                        <HorizontalStackLayout Spacing="10">
                            <Label Text="&#xf05a;"
                                   FontFamily="FontAwesome"
                                   FontSize="18"
                                   Style="{StaticResource AppTitleLabel}"
                                   VerticalOptions="Center" />

                            <Label Text="Application Info"
                                   Style="{StaticResource AppTitleLabel}" />
                        </HorizontalStackLayout>

                        <BoxView HeightRequest="1" BackgroundColor="{AppThemeBinding Light={StaticResource SurfaceContainerDark}, Dark={StaticResource SurfaceContainerLight}}" />

                        <Grid ColumnDefinitions="*,Auto"
                              RowDefinitions="Auto,Auto,Auto,Auto,Auto"
                              RowSpacing="12">

                            <Label Text="Version"
                                   Style="{StaticResource BodyText}" />
                            <Label Grid.Column="1"
                                   Text="{Binding AppDetails.Version}"
                                   FontAttributes="Bold" 
                                   Style="{StaticResource BodyText}" />

                            <Label Grid.Row="1"
                                   Text="Build"
                                   Style="{StaticResource BodyText}" />
                            <Label Grid.Row="1"
                                   Grid.Column="1"
                                   Text="{Binding AppDetails.Build}"
                                   FontAttributes="Bold" 
                                   Style="{StaticResource BodyText}" />

                            <Label Grid.Row="2"
                                   Text="Package"
                                   Style="{StaticResource BodyText}" />
                            <Label Grid.Row="2"
                                   Grid.Column="1"
                                   Text="{Binding AppDetails.PackageName}"
                                   FontAttributes="Bold" 
                                   Style="{StaticResource BodyText}" />

                            <Label Grid.Row="3"
                                   Text="Developer"
                                   Style="{StaticResource BodyText}" />
                            <Label Grid.Row="3"
                                   Grid.Column="1"
                                   Text="Philip Reese"
                                   FontAttributes="Bold" 
                                   Style="{StaticResource BodyText}" />

                            <Label Grid.Row="4" 
                                   Text="Last Backup"                                
                                   Style="{StaticResource BodyText}"/>
                            <Label Grid.Row="4"
                                   Grid.Column="1" 
                                   Text="{Binding LastBackupDisplay}" 
                                   FontAttributes="Bold"                               
                                   Style="{StaticResource AppTitleLabel}"
                                   FontSize="14"/>
                        </Grid>
                    </VerticalStackLayout>
                </Border>

                <!-- Powered By -->
                <Label Text="Powered By"
                       Style="{StaticResource BodyText}"
                       HorizontalTextAlignment="Center"
                       Margin="0,8,0,0"/>

                <FlexLayout Wrap="Wrap"
                            JustifyContent="Center"
                            AlignItems="Center"
                            Margin="0,0,0,16">

                    <Border Margin="4"
                            Style="{StaticResource TechStackChip}">
                        <Label Text=".NET MAUI"
                               Style="{StaticResource TechStackChipLabel}" />
                    </Border>

                    <Border Margin="4"
                            Style="{StaticResource TechStackChip}">
                        <Label Text="SQLite"
                               Style="{StaticResource TechStackChipLabel}" />
                    </Border>

                    <Border Margin="4"
                            Style="{StaticResource TechStackChip}">
                        <Label Text="MVVM Toolkit"
                               Style="{StaticResource TechStackChipLabel}" />
                    </Border>

                </FlexLayout>

                <!-- Website CTA -->
                <Button Text="Visit Website"
                        Margin="12"
                        Style="{StaticResource PrimaryButton}"
                        Clicked="WebsiteButton_Clicked" />

                <Label Text="Â© 2026 Chore Buddy Inc."
                       HorizontalOptions="Center"
                       Margin="0,20,0,0" />
            </VerticalStackLayout>
        </VerticalStackLayout>
    </ScrollView>
</ContentPage>
